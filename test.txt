it('ValidateFormControls() â†’ sets flags & returns true when controls/combos invalid', () => {
  const utilsStub = {
    CreateRequiredFormControl: () => ({}),
    CreateDateFormControl: () => ({}),
    isStringValid: (v: any) => !!v && String(v).trim().length > 0,
  };
  const acctServiceStub = { loadStatusData: () => [] };
  const storeMock = { pipe: jasmine.createSpy('pipe').and.returnValue(of(false)), dispatch: () => {} };

  const c = new EditaccountComponent({} as any, {} as any, storeMock as any, utilsStub as any, acctServiceStub as any);

  // ---- controls
  c['fcn_AcctNumb'] = { markAsTouched: jasmine.createSpy(), hasError: (e: string) => e === 'required' } as any;
  c['fcn_EstAccrual'] = { markAsTouched: jasmine.createSpy(), hasError: () => false } as any;
  c['fcn_OffcrNumber'] = { hasError: (e: string) => e === 'required' } as any;
  c['fcn_OffcrName'] = { hasError: () => false } as any;
  c.isCategoryCdValid = false;

  // ---- ALL combos with value
  c['cbStatus']      = { value: null } as any;
  c['cbDivision']    = { value: null } as any;
  c['cbCycle']       = { value: null } as any;
  c['cbofficer']     = { value: null } as any;
  c['cbFormula']     = { value: null } as any;
  c['cbcategory']    = { value: null } as any;
  c['cbAltDivision'] = { value: '11' } as any; // to trigger isRevShareReqd

  // ---- account (include officerNm to avoid helper crashes)
  c.account = { revshare: 'RS', officerNm: '' } as any;

  // ---- STUB *all* helpers that might be called (cover spelling variants)
  c['setIsRevShareValid']   = jasmine.createSpy('setIsRevShareValid');
  c['onoffcrNumberChange']  = jasmine.createSpy('onoffcrNumberChange');
  c['onOffcrNumberChange']  = jasmine.createSpy('onOffcrNumberChange'); // variant just in case
  c['onFutureUseChange']    = jasmine.createSpy('onFutureUseChange');
  c['onoffNumberChange']    = jasmine.createSpy('onoffNumberChange');
  c['onOffNumberChange']    = jasmine.createSpy('onOffNumberChange');   // variant
  c['onOzIdChange']         = jasmine.createSpy('onOzIdChange');

  // other flags default false
  c.isofcrNmbrValid   = false;
  c.isFutureValid     = false;
  c.isRevShareValid   = false;
  c.isDisp3Valid      = false;
  c.isofficerNumValid = false;
  c.isOzIdValid       = false;

  // act
  const result = (c as any).ValidateFormControls();

  // assert
  expect(c['fcn_AcctNumb'].markAsTouched).toHaveBeenCalled();
  expect(c['fcn_EstAccrual'].markAsTouched).toHaveBeenCalled();

  expect(c.statusRequired).toBeTrue();
  expect(c.divisionRequired).toBeTrue();
  expect(c.cycleRequired).toBeTrue();
  expect(c.officerRequired).toBeTrue();
  expect(c.formulaRequired).toBeTrue();
  expect(c.categoryRequired).toBeTrue();

  expect(c.isRevShareReqd).toBeTrue();
  expect(c.altDivisionRequired).toBeFalse();

  expect(result).toBeTrue();
});
