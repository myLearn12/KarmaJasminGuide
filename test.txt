it('ValidateFormData: should set errors when Paid-Thru date is earlier than prevpdthru', () => {
  // Arrange
  component.account = {
    formulacd: 1,
    datepdthru: '2025-01-01',
    prevpdthru: '2025-02-01'
  } as any;

  const earlyDate = new Date(2025, 0, 1); // Jan 1, 2025
  const laterDate = new Date(2025, 1, 1); // Feb 1, 2025

  spyOn(component.utils, 'isStringValid').and.returnValue(true); // so we skip the "missing" branch
  spyOn(component.utils, 'ToDate').and.callFake((val: any) => {
    return val === '2025-01-01' ? earlyDate : laterDate;
  });
  spyOn(component.utils, 'getDisplayCurrentDate').and.returnValue('02/01/2025');

  // Act
  component.ValidateFormData();

  // Assert
  expect(component.firstValidationErrorMessage)
    .toBe('The date entered is earlier than the previous Paid-thru date of 02/01/2025');
  expect(component.thirdValidationErrorMessage)
    .toBe('Press Close to re-enter.');
});
