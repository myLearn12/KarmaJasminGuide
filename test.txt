it('GenerateTableRows(): when getRequest errors should call displayServiceErrors, clear loading and dispatch LOADINGACTION(false)', fakeAsync(() => {
  // Arrange
  component.rbnTax = { value: true } as any; // so value = '1'
  const errorObj = { error: { statusMessage: 'Test error' } };

  spyOn(component.feeApiservice, 'getRequest').and.returnValue(throwError(() => errorObj));
  const displaySpy = spyOn(component as any, 'displayServiceErrors');
  const dispatchSpy = spyOn(component['store'], 'dispatch');

  // Act
  component.GenerateTableRows();
  tick(); // flush observable

  // Assert
  expect(displaySpy).toHaveBeenCalledWith('Test error');
  expect(component.loading).toBeFalse();
  expect(dispatchSpy).toHaveBeenCalledWith(jasmine.any(LOADINGACTION));
}));