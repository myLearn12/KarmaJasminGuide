it('ValidateFormControls() â†’ sets flags & returns true when controls/combos invalid', () => {
  // ctor deps
  const utilsStub = {
    CreateRequiredFormControl: () => ({}),
    CreateDateFormControl: () => ({}),
    isStringValid: (v: any) => !!v && String(v).trim().length > 0,
  };
  const acctServiceStub = { loadStatusData: () => [] };
  const storeMock = { pipe: jasmine.createSpy('pipe').and.returnValue(of(false)), dispatch: () => {} };

  const c = new EditaccountComponent({} as any, {} as any, storeMock as any, utilsStub as any, acctServiceStub as any);

  // ---- form controls stubs
  c['fcn_AcctNumb'] = {
    markAsTouched: jasmine.createSpy('markAsTouched'),
    hasError: (e: string) => e === 'required', // trigger required
  } as any;

  c['fcn_EstAccrual'] = {
    markAsTouched: jasmine.createSpy('markAsTouched'),
    hasError: (_: string) => false,
  } as any;

  c['fcn_OffcrNumber'] = {
    hasError: (e: string) => e === 'required', // combine with !isCategoryCdValid
  } as any;

  c['fcn_OffcrName'] = {
    hasError: (_: string) => false,
  } as any;

  c.isCategoryCdValid = false; // make (required && !isCategoryCdValid) true

  // ---- COMBO stubs (ALL of them, with `value`)
  c['cbStatus']      = { value: null } as any;  // null -> required
  c['cbDivision']    = { value: null } as any;  // null -> required
  c['cbCycle']       = { value: null } as any;  // null -> required
  c['cbofficer']     = { value: null } as any;  // null -> required
  c['cbFormula']     = { value: null } as any;  // null -> required
  c['cbcategory']    = { value: null } as any;  // null -> required
  c['cbAltDivision'] = { value: '11' } as any;  // not null, used for isRevShareReqd

  // ---- account used in revshare flags
  c.account = { revshare: 'RS' } as any;

  // ---- methods invoked inside (stub them)
  c['setIsRevShareValid']  = jasmine.createSpy('setIsRevShareValid');
  c['onoffcrNumberChange'] = jasmine.createSpy('onoffcrNumberChange');
  c['onFutureUseChange']   = jasmine.createSpy('onFutureUseChange');
  c['onoffNumberChange']   = jasmine.createSpy('onoffNumberChange');
  c['onOzIdChange']        = jasmine.createSpy('onOzIdChange');

  // other flags in big if: keep false unless you want to trigger them
  c.isofcrNmbrValid   = false;
  c.isFutureValid     = false;
  c.isRevShareValid   = false;
  c.isDisp3Valid      = false;
  c.isofficerNumValid = false;
  c.isOzIdValid       = false;

  // ---- act
  const result = (c as any).ValidateFormControls();

  // ---- asserts
  expect(c['fcn_AcctNumb'].markAsTouched).toHaveBeenCalled();
  expect(c['fcn_EstAccrual'].markAsTouched).toHaveBeenCalled();

  expect(c.statusRequired).toBeTrue();
  expect(c.divisionRequired).toBeTrue();
  expect(c.cycleRequired).toBeTrue();
  expect(c.officerRequired).toBeTrue();
  expect(c.formulaRequired).toBeTrue();
  expect(c.categoryRequired).toBeTrue();

  // cbAltDivision != null AND revshare valid => true
  expect(c.isRevShareReqd).toBeTrue();
  // revshare valid && cbAltDivision == null would set altDivisionRequired; here it's false
  expect(c.altDivisionRequired).toBeFalse();

  expect(result).toBeTrue();
});
