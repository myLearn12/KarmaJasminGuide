it('processRecord: should show success modal but keep button enabled on error', fakeAsync(() => {
  // Arrange
  component.processTypeId = 123;
  component.regionid = 5;
  (component as any).appConfigService = { LoadCashFeePostingUrl: '/mock-url' };

  const mockError = { error: { statusMessage: 'Server failed' } };
  spyOn(component.feeApiservice, 'postRequest').and.returnValue(throwError(() => mockError));
  const modalSpy = spyOn((component as any).successModal, 'show');
  const dispatchSpy = spyOn(component.store, 'dispatch');

  // Act
  (component as any).processRecord();
  tick();

  // Assert
  expect(component.loading).toBeFalse();
  expect(dispatchSpy).toHaveBeenCalledWith(jasmine.any(LOADINGACTION));
  expect(modalSpy).toHaveBeenCalled(); // still shows modal on error
  expect(component.disbleButtonAction).toBeFalse();
}));