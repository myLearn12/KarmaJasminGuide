it('LoadRegion(): should load region data, stop loading and dispatch LOADINGACTION(false) on success', () => {
  // Arrange
  component.regionid = 'R001';
  component.appConfigService = { getRegionByIdurl: '/api/region/' } as any;
  const mockRegionData = { name: 'West Region' };

  const getReqSpy = jasmine.createSpy().and.returnValue({
    subscribe: (observer: any) => observer.next(mockRegionData)
  });
  component['feeApiservice'] = { getRequest: getReqSpy } as any;

  const loadRegionDataSpy = spyOn(component, 'LoadRegionData');
  const dispatchSpy = spyOn(component['store'], 'dispatch');

  // Act
  component.LoadRegion();

  // Assert
  expect(loadRegionDataSpy).toHaveBeenCalledWith(mockRegionData);
  expect(component.loading).toBeFalse();
  expect(dispatchSpy).toHaveBeenCalledWith(jasmine.any(LOADINGACTION));
  expect(getReqSpy).toHaveBeenCalledWith('/api/region/R001');
});


it('LoadRegion(): should display error, stop loading and dispatch LOADINGACTION(false) on failure', () => {
  // Arrange
  component.regionid = 'R002';
  component.appConfigService = { getRegionByIdurl: '/api/region/' } as any;

  const getReqSpy = jasmine.createSpy().and.returnValue({
    subscribe: (observer: any) => observer.error({ error: { statusMessage: 'Region not found' } })
  });
  component['feeApiservice'] = { getRequest: getReqSpy } as any;

  const displayErrorSpy = spyOn(component, 'displayServiceErrors');
  const dispatchSpy = spyOn(component['store'], 'dispatch');

  // Act
  component.LoadRegion();

  // Assert
  expect(displayErrorSpy).toHaveBeenCalledWith('Region not found');
  expect(component.loading).toBeFalse();
  expect(dispatchSpy).toHaveBeenCalledWith(jasmine.any(LOADINGACTION));
});