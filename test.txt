it('GenerateSearchAcctNameTableRows() - error: sets isData=false, calls displayServiceErrors, clears loading and dispatches LOADINGACTION(false)', () => {
  // ensure subscription exists so .add() won't blow up
  (component as any).subscription = new Subscription();

  // spy store.dispatch
  const store = TestBed.inject(Store) as any;
  spyOn(store, 'dispatch').and.callFake(() => {});

  // ensure feeApiservice is available and make getRequest throw
  if (!(component as any).feeApiservice) {
    (component as any).feeApiservice = TestBed.inject(FeeApiService);
  }
  spyOn((component as any).feeApiservice, 'getRequest').and.returnValue(
    throwError({ error: { statusMessage: 'server failed' } })
  );

  // spy the component's displayServiceErrors
  spyOn(component as any, 'displayServiceErrors').and.callFake(() => {});

  // set starting state
  component.isData = true;
  component.loading = true;
  component.disableButtonAction = true;

  // call the method (use same url/query construction as in component)
  const urlString = '/api/searchName';
  const queryString = 'john';
  (component as any).GenerateSearchAcctNameTableRows(urlString, queryString);

  // expectations
  expect((component as any).feeApiservice.getRequest)
    .toHaveBeenCalledWith(urlString + '0' + '/' + queryString);

  expect(component.isData).toBeFalse();
  expect(component.loading).toBeFalse();
  expect((component as any).displayServiceErrors).toHaveBeenCalledWith('server failed');
  expect(store.dispatch).toHaveBeenCalled();
  expect(component.disableButtonAction).toBeFalse();
});