it('onUpdateModalClick: when row is selected should deep clone revShrdivmap, set values, and show modal', () => {
  // Arrange
  component.isRowSelected = true;
  component.revShrdivmap = { id: 1, name: 'Test Map' } as any;

  // Spy dependencies inside else block
  const setInitialSpy = spyOn(component as any, 'setIntialValues');
  const getRevSpy = spyOn(component as any, 'getRevenueShareComboBoxValue');
  const getDivSpy = spyOn(component as any, 'getDivisionComboBoxVal');
  const modalSpy = spyOn((component as any)._actionModal, 'show');

  // Act
  component.onUpdateModalclick();

  // Assert
  expect(component.selectedRevShrDivMap).toEqual(component.revShrdivmap);
  expect(component.selectedRevShrDivMap).not.toBe(component.revShrdivmap); // deep cloned, not same reference
  expect(setInitialSpy).toHaveBeenCalled();
  expect(getRevSpy).toHaveBeenCalled();
  expect(getDivSpy).toHaveBeenCalled();
  expect(modalSpy).toHaveBeenCalled();
  expect(component.actionModalTitle).toBe('Update');
  expect(component.actionModalType).toBe(ActionType.update);
});