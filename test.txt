it('canProcessRecord(true): should set account.regionId to newRegionId and hide modal', fakeAsync(() => {
  // Arrange
  component.newRegionId = 2 as any;                       // will be .toString()'d
  component.account = { regionId: '1' } as any;

  // cover both possible modal field names
  const modalSpy = jasmine.createSpyObj('modal', ['hide']);
  (component as any).actionModal = modalSpy;
  (component as any)._actionModal = modalSpy;

  // Act
  (component as any).canProcessRecord(true);
  tick();

  // Assert
  expect(component.account.regionId).toBe('2');           // newRegionId.toString()
  expect(modalSpy.hide).toHaveBeenCalled();
}));
