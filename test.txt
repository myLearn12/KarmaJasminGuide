it('should set errors when Paid-Thru date is earlier than prevpdthru', () => {
  component.account = {
    formulaCd: 1, // trigger formula branch
    datepdthru: '2025-01-01',
    prevpdthru: '2025-02-01'
  } as any;

  // Make string valid
  spyOn(component.utils, 'isStringValid').and.returnValue(true);

  // Ensure ToDate works consistently
  spyOn(component.utils, 'ToDate').and.callFake((val: any) => new Date(val));

  // Ensure display date formatting
  spyOn(component.utils, 'getDisplayCurrentDate').and.returnValue('02/01/2025');

  // Act
  component.ValidateFormData();

  // Assert
  expect(component.firstValidationErrorMessage)
    .toBe('The date entered is earlier than the previous Paid-thru date of 02/01/2025');
  expect(component.thirdValidationErrorMessage)
    .toBe('Press Close to re-enter.');
});