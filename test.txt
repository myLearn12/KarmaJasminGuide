it('GenerateTableRows() - error: sets isData=false, calls displayServiceErrors, clears loading and dispatches LOADINGACTION(false)', () => {
  // Arrange: ensure component has subscription and appConfig url
  (component as any).subscription = new Subscription();
  (component as any).appConfigService = { getAllAccountExportUrl: '/api/accounts' } as any;

  // Ensure store exists and we spy dispatch
  const store = TestBed.inject(Store) as any;
  spyOn(store, 'dispatch').and.callFake(() => {});

  // Spy on the exact feeApi instance used by the component
  const componentFeeApi = (component as any).feeApiservice;
  if (!componentFeeApi) {
    // if the component didn't have it wired, inject and assign one (mock)
    const feeApiMock = TestBed.inject(FeeApiService) as any;
    (component as any).feeApiservice = feeApiMock;
  }

  // Now spy on that instance and make it throw synchronously
  spyOn((component as any).feeApiservice, 'getRequest').and.returnValue(
    throwError({ error: { statusMessage: 'server failed' } })
  );

  // Spy the displayServiceErrors on the component instance
  spyOn(component as any, 'displayServiceErrors').and.callFake(() => {});

  // Act: call the method under test
  (component as any).GenerateTableRows();

  // Assert
  expect((component as any).feeApiservice.getRequest)
    .toHaveBeenCalledWith('/api/accounts' + '0' + '/2'); // matches code: + '0' + '/2'
  expect((component as any).isData).toBeFalse();
  expect((component as any).loading).toBeFalse();
  expect((component as any).displayServiceErrors).toHaveBeenCalledWith('server failed');
  expect(store.dispatch).toHaveBeenCalled();
});